<!DOCTYPE html>
<html>
  <head>
    <title>WAT INTERVIEW</title>
    <!-- Favicon using emoji -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üá∫üá∏</text></svg>"
    />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Custom CSS -->
    <style>
      body {
        background-color: #f8f9fa;
        padding: 20px;
        padding-top: 130px;
      }
      strong {
        color: #0d6efd;
        font-weight: 600;
      }
      .btn-outline-danger:hover {
        background-color: #dc3545;
        color: white;
      }

      .btn-outline-secondary:hover {
        background-color: #6c757d;
        color: white;
      }

      .card {
        margin-bottom: 15px;
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
        height: 100%;
      }
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .card-body {
        padding: 15px;
      }
      .row > [class*="col-"] {
        padding-bottom: 20px;
      }
      .card:hover {
        transform: translateY(-5px);
      }
      .question {
        font-weight: 600;
        color: #2c3e50;
        font-size: 1rem;
      }
      .answer {
        display: none;
        margin-top: 15px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 5px;
        border-left: 4px solid #0d6efd;
      }
      .language-toggle {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background-color: rgba(255, 255, 255, 0.95);
        padding: 1rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .badge {
        font-size: 0.9rem;
        padding: 0.35em 0.65em;
        font-weight: 500;
      }
      .language-toggle .btn-danger {
        margin-top: 10px;
        padding: 0.5rem 2rem;
      }
      .btn-group {
        margin-bottom: 10px;
      }
      @media (max-width: 768px) {
        .card {
          margin-bottom: 10px;
        }
        .question {
          font-size: 4rem;
        }
        .card-body {
          padding: 1rem;
        }
        body {
          padding-top: 150px;
        }
      }

      .btn-success {
        background-color: #28a745;
        border-color: #28a745;
      }

      .btn-success:hover {
        background-color: #218838;
        border-color: #1e7e34;
      }

      /* Modal –¥—ç—ç—Ä—Ö —Ç–æ–≤—á–Ω—É—É–¥—ã–Ω –∑–∞–≥–≤–∞—Ä */
      .modal .btn-primary,
      .modal .btn-secondary {
        padding: 0.5rem 1.5rem;
      }

      /* Card –¥—ç—ç—Ä—Ö –∑–∞—Å–∞—Ö/—É—Å—Ç–≥–∞—Ö —Ç–æ–≤—á–Ω—É—É–¥—ã–Ω –∑–∞–≥–≤–∞—Ä */
      .card .btn-outline-secondary,
      .card .btn-outline-danger {
        padding: 0.25rem 0.5rem;
        font-size: 0.875rem;
      }

      /* Container spacing */
      .container-fluid {
        padding: 0 15px;
      }

      /* Card spacing */
      .card {
        margin-bottom: 15px;
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
        height: 100%;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .card-body {
        padding: 15px;
      }

      /* Question spacing */
      .question {
        font-weight: 600;
        color: #2c3e50;
        font-size: 1rem;
      }

      /* Answer spacing */
      .answer {
        display: none;
        margin-top: 15px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 5px;
        border-left: 4px solid #0d6efd;
      }

      /* Mobile device (768px –¥–æ–æ—à) */
      @media (max-width: 767.98px) {
        body {
          padding-top: 120px;
          padding: 10px;
        }

        .container-fluid {
          padding: 0 10px;
        }

        .card {
          margin-bottom: 10px;
        }

        .card-body {
          padding: 12px;
        }

        .question {
          font-size: 0.95rem;
        }

        .answer {
          padding: 12px;
          margin-top: 12px;
          font-size: 0.9rem;
        }

        .btn {
          padding: 0.375rem 0.75rem;
          font-size: 0.875rem;
        }

        .language-toggle {
          padding: 0.75rem;
        }

        .language-toggle .btn {
          padding: 0.25rem 0.5rem;
          font-size: 0.875rem;
        }
      }

      /* Tablet device (768px-991px) */
      @media (min-width: 768px) and (max-width: 991.98px) {
        .col-md-6 {
          padding: 0 10px;
        }
      }

      /* Desktop device (992px –¥—ç—ç—à) */
      @media (min-width: 992px) {
        .col-lg-4 {
          padding: 0 10px;
        }
      }

      /* Language toggle button —Ç–æ—Ö–∏—Ä–≥–æ–æ */
      .language-toggle {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background-color: rgba(255, 255, 255, 0.95);
        padding: 1rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      @media (max-width: 575.98px) {
        .language-toggle {
          padding: 0.5rem; /* Mobile –¥—ç—ç—Ä padding –±–∞–≥–∞—Å–≥–∞—Ö */
        }

        .language-toggle .btn {
          padding: 0.25rem 0.5rem; /* Button size –±–∞–≥–∞—Å–≥–∞—Ö */
          font-size: 1rem;
        }

        .btn-group {
          margin-bottom: 5px;
        }
      }

      /* Answer button —Ç–æ—Ö–∏—Ä–≥–æ–æ */
      .btn-outline-primary,
      .btn-primary {
        width: 100%; /* Mobile –¥—ç—ç—Ä –±“Ø—Ç—ç–Ω ”©—Ä–≥”©–Ω—Ç—ç–π –±–æ–ª–≥–æ—Ö */
        margin-bottom: 10px;
      }

      @media (max-width: 575.98px) {
        .btn-outline-primary,
        .btn-primary {
          padding: 0.375rem 0.75rem; /* Button size –±–∞–≥–∞—Å–≥–∞—Ö */
          font-size: 0.875rem;
        }
      }

      /* Answer box —Ç–æ—Ö–∏—Ä–≥–æ–æ */
      .answer {
        font-size: 0.9rem; /* Mobile –¥—ç—ç—Ä —Ç–µ–∫—Å—Ç –±–∞–≥–∞—Å–≥–∞—Ö */
        padding: 10px;
        margin-top: 10px;
      }

      /* Speaking button —Ç–æ—Ö–∏—Ä–≥–æ–æ */
      .btn-outline-primary.speaking {
        background-color: #0d6efd;
        color: white;
        animation: pulse 1.5s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Mobile device –¥—ç—ç—Ä—Ö —Ç–æ—Ö–∏—Ä–≥–æ–æ */
      @media (max-width: 767.98px) {
        .btn-group .btn {
          padding: 0.25rem 0.5rem;
        }

        .btn-group .btn i {
          font-size: 0.875rem;
        }
      }

      /* Speaking button styles */
      .btn-outline-info.speaking {
        background-color: #0dcaf0;
        color: white;
        animation: pulse 1.5s infinite;
      }

      .btn-outline-info:hover {
        background-color: #0dcaf0;
        color: white;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.05);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* Mobile device adjustments */
      @media (max-width: 767.98px) {
        .btn-group .btn {
          padding: 0.25rem 0.5rem;
          margin-right: 2px;
        }

        .btn-group .btn i {
          font-size: 0.875rem;
        }
      }

      /* Speaking button animation */
      .speaking {
        animation: pulse 1.5s infinite;
        background-color: #0d6efd !important;
        color: white !important;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* Mobile device adjustments */
      @media (max-width: 767.98px) {
        .btn-sm {
          padding: 0.25rem 0.5rem;
          font-size: 0.75rem;
        }
      }

      /* Speak button styles */
      .btn-speak {
        padding: 0.25rem 0.5rem;
        margin-left: 0.5rem;
        font-size: 0.875rem;
      }

      /* Mobile device adjustments */
      @media (max-width: 767.98px) {
        .btn-speak {
          padding: 0.2rem 0.4rem;
          font-size: 0.75rem;
        }
      }

      /* Add these new styles */
      .selectable {
        cursor: pointer;
        user-select: text;
        -webkit-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
      }

      .selectable:hover {
        background-color: rgba(13, 110, 253, 0.1);
        border-radius: 4px;
      }

      /* Highlight selected text */
      .selectable::selection {
        background-color: rgba(13, 110, 253, 0.2);
      }

      /* Mobile device specific styles */
      @media (max-width: 767.98px) {
        .selectable {
          padding: 2px 4px;
        }
      }

      /* Mobile device (768px –¥–æ–æ—à) */
      @media (max-width: 767.98px) {
        /* Card container */
        .col-12 {
          padding: 0 10px;
        }

        /* Card styling */
        .card {
          margin-bottom: 15px;
          border-radius: 8px;
        }

        /* Question text */
        .question {
          font-size: 0.95rem;
          line-height: 1.4;
          margin-right: 35px;
        }

        /* Button group */
        .btn-group {
          position: absolute;
          right: 10px;
          top: 10px;
        }

        /* Show/Hide Answer button */
        .btn-outline-primary {
          padding: 8px;
          font-size: 0.9rem;
        }

        /* Voice button */
        .btn-speak {
          padding: 4px 8px;
          font-size: 0.8rem;
        }

        /* Answer text */
        .answer {
          font-size: 0.9rem;
          padding: 12px;
          margin-top: 10px;
          border-radius: 6px;
        }

        /* Container spacing */
        .container-fluid {
          padding: 10px;
        }

        body {
          padding-top: 110px;
          padding-left: 5px;
          padding-right: 5px;
        }
      }

      /* Tablet and desktop remain unchanged */
      @media (min-width: 768px) {
        .col-md-6 {
          flex: 0 0 50%;
          max-width: 50%;
        }
      }

      @media (min-width: 992px) {
        .col-lg-4 {
          flex: 0 0 33.333333%;
          max-width: 33.333333%;
        }
      }

      /* Footer styles */
      .footer {
        background-color: #f8f9fa;
        padding: 20px 0;
        border-top: 1px solid #dee2e6;
        margin-top: auto;
      }

      .footer .social-link {
        color: #6c757d;
        text-decoration: none;
        margin: 0 10px;
        transition: color 0.3s ease;
      }

      .footer .social-link:hover {
        color: #0d6efd;
      }

      .footer .social-link i {
        margin-right: 5px;
      }

      .footer .copyright {
        color: #6c757d;
        font-size: 0.9rem;
        margin-top: 15px;
      }

      /* Make footer stick to bottom */
      html {
        height: 100%;
      }

      body {
        min-height: 100%;
        display: flex;
        flex-direction: column;
      }

      .container-fluid {
        flex: 1;
      }

      /* Mobile adjustments */
      @media (max-width: 767.98px) {
        .footer {
          padding: 15px 0;
          margin-top: 20px;
        }

        .footer .social-link {
          display: block;
          margin: 10px 0;
        }

        .footer .copyright {
          font-size: 0.8rem;
        }

        /* Adjust bottom padding to account for footer */
        body {
          padding-bottom: 100px;
        }
      }

      /* Language toggle buttons */
      .language-toggle .btn-group {
        width: 100%;
        display: flex;
        align-items: stretch;
      }

      .language-toggle .btn-group .btn {
        flex: 1;
        padding: 8px 0;
        font-size: 0.9rem;
        white-space: nowrap;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0;
        border-radius: 0;
      }

      /* First button left radius */
      .language-toggle .btn-group .btn:first-child {
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
      }

      /* Last button right radius */
      .language-toggle .btn-group .btn:last-child {
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
      }

      /* Mobile adjustments */
      @media (max-width: 767.98px) {
        .language-toggle .btn-group {
          flex-wrap: wrap;
          gap: 5px;
        }

        .language-toggle .btn-group .btn {
          flex: 1 1 calc(50% - 5px);
          font-size: 0.85rem;
          padding: 6px 0;
          border-radius: 4px;
        }
      }

      /* Question title and voice button */
      .card-title.question {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-right: 40px;
      }

      /* Question text */
      .question-text {
        flex: 1;
        margin-right: 35px;
      }

      /* Voice button */
      .btn-speak {
        padding: 2px 6px !important;
        font-size: 0.8rem !important;
        height: 24px;
        width: fit-content;
        min-width: 32px;
        display: inline-flex !important;
        align-items: center;
        justify-content: center;
        align-self: flex-start;
      }

      /* Voice icon */
      .btn-speak i {
        font-size: 0.85rem;
      }

      /* Mobile adjustments */
      @media (max-width: 767.98px) {
        .card-title.question {
          gap: 6px;
        }

        .question-text {
          margin-right: 30px;
        }

        .btn-speak {
          padding: 1px 5px !important;
          font-size: 1rem !important;
          height: 22px;
        }

        .btn-speak i {
          font-size: 1rem;
        }
      }

      /* Instruction text */
      .instruction-text {
        color: #6c757d;
        font-size: 0.9rem;
        margin: 15px 0;
      }

      /* Mobile adjustments */
      @media (max-width: 767.98px) {
        .instruction-text {
          font-size: 0.85rem;
          padding: 8px 12px;
          margin: 12px 0;
        }
      }

      /* Add smooth transitions */
      .btn,
      .card,
      .social-link {
        transition: all 0.3s ease;
      }

      /* Enhance card hover effect */
      .card {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
      }

      .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 16px rgba(13, 110, 253, 0.15);
      }

      /* Improve button styles */
      .btn {
        border-radius: 8px;
        font-weight: 500;
        letter-spacing: 0.3px;
      }

      .btn-primary {
        background: linear-gradient(45deg, #0d6efd, #0a58ca);
        border: none;
      }

      .btn-primary:hover {
        background: linear-gradient(45deg, #0a58ca, #084298);
        transform: translateY(-1px);
      }

      /* Enhanced language toggle */
      .language-toggle {
        backdrop-filter: blur(8px);
        border-bottom: 1px solid rgba(222, 226, 230, 0.3);
      }

      .language-toggle .btn-group {
        gap: 8px;
        padding: 8px;
      }

      .language-toggle .btn {
        position: relative;
        overflow: hidden;
      }

      .language-toggle .btn::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: #0d6efd;
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .language-toggle .btn.btn-primary::after {
        transform: scaleX(1);
      }

      /* Enhance answer sections */
      .answer {
        border-radius: 12px;
        border-left-width: 5px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
      }

      /* Improve mobile experience */
      @media (max-width: 767.98px) {
        .card {
          margin: 10px 5px;
          border-radius: 12px;
        }

        .btn {
          padding: 10px 16px;
        }

        .instruction-text {
          background: rgba(13, 110, 253, 0.05);
          border-radius: 8px;
          padding: 12px;
          margin: 15px 5px;
          font-size: 0.9rem;
          line-height: 1.5;
        }
      }

      /* Enhanced footer */
      .footer {
        background: linear-gradient(to bottom, #f8f9fa, #fff);
        padding: 30px 0;
      }

      .social-link {
        padding: 8px 16px;
        border-radius: 20px;
        background: rgba(13, 110, 253, 0.05);
      }

      .social-link:hover {
        background: rgba(13, 110, 253, 0.1);
        transform: translateY(-2px);
      }

      .non-selectable {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      /* Enhanced card hover effects */
      .card {
        transform: translateY(0);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      }

      .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px rgba(13, 110, 253, 0.12);
      }

      /* Improved button styles */
      .btn {
        border-radius: 10px;
        font-weight: 500;
        letter-spacing: 0.3px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .btn::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background: linear-gradient(rgba(255, 255, 255, 0.2), transparent);
        opacity: 0;
        transition: opacity 0.3s;
      }

      .btn:hover::after {
        opacity: 1;
      }

      /* Enhanced language toggle */
      .language-toggle {
        backdrop-filter: blur(12px);
        background: rgba(255, 255, 255, 0.95);
        border-bottom: 1px solid rgba(222, 226, 230, 0.5);
        padding: 15px;
      }

      .language-toggle .btn-group {
        gap: 10px;
        padding: 5px;
        background: rgba(248, 249, 250, 0.5);
        border-radius: 12px;
      }

      /* Improved answer sections */
      .answer {
        border-radius: 12px;
        border-left-width: 5px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      }

      .answer:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px rgba(13, 110, 253, 0.12);
      }

      /* Enhanced footer */
      .footer {
        background: linear-gradient(to bottom, #f8f9fa, #fff);
        padding: 40px 0;
        margin-top: 60px;
      }

      .social-link {
        padding: 12px 24px;
        border-radius: 25px;
        background: rgba(13, 110, 253, 0.05);
        transition: all 0.3s ease;
      }

      .social-link:hover {
        background: rgba(13, 110, 253, 0.1);
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.1);
      }

      /* Loading skeleton animation */
      @keyframes shimmer {
        0% {
          background-position: -1000px 0;
        }
        100% {
          background-position: 1000px 0;
        }
      }

      .loading {
        background: linear-gradient(
          90deg,
          #f0f0f0 25%,
          #e0e0e0 50%,
          #f0f0f0 75%
        );
        background-size: 1000px 100%;
        animation: shimmer 2s infinite linear;
      }

      /* Mobile optimizations */
      @media (max-width: 767.98px) {
        .card {
          margin: 12px 8px;
          border-radius: 16px;
        }

        .btn {
          padding: 12px 20px;
        }

        .instruction-text {
          background: rgba(13, 110, 253, 0.05);
          border-radius: 12px;
          padding: 15px;
          margin: 20px 8px;
          font-size: 0.95rem;
          line-height: 1.6;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
      }

      /* Main title */
      .main-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 1.5rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      /* Interview type toggle */
      .interview-type-toggle {
        margin-bottom: 2rem;
      }

      .interview-type-toggle .btn-group {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        padding: 4px;
        background: #f8f9fa;
      }

      .interview-type-toggle .btn {
        padding: 12px 24px;
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .interview-type-toggle .btn.active {
        background-color: #0d6efd;
        color: white;
        transform: scale(1.02);
      }

      .interview-type-toggle .btn:not(.active):hover {
        background-color: #e9ecef;
      }

      /* Instruction card */
      .instruction-card {
        background: linear-gradient(145deg, #ffffff, #f8f9fa);
        border-radius: 15px;
        padding: 1.5rem;
        margin: 2rem auto;
        max-width: 600px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        position: relative;
        overflow: hidden;
      }

      .instruction-icon {
        position: absolute;
        top: -10px;
        left: -10px;
        background: #0d6efd;
        color: white;
        padding: 1rem;
        border-radius: 50%;
        font-size: 1.2rem;
        opacity: 0.1;
      }

      .instruction-text {
        color: #495057;
        font-size: 1rem;
        margin: 0;
        line-height: 1.6;
      }

      .device-specific {
        display: block;
        margin: 0.5rem 0;
        padding: 0.5rem;
        border-radius: 8px;
        background: rgba(13, 110, 253, 0.05);
      }

      /* Action buttons */
      .action-buttons {
        margin: 2rem 0;
      }

      .btn-add {
        padding: 12px 30px;
        font-weight: 500;
        border-radius: 10px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(13, 110, 253, 0.2);
      }

      .btn-add:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 8px rgba(13, 110, 253, 0.3);
      }

      /* Question cards */
      .card {
        border-radius: 15px;
        transition: all 0.3s ease;
        border: none;
        background: linear-gradient(145deg, #ffffff, #f8f9fa);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
      }

      .card-body {
        padding: 1.5rem;
      }

      .question {
        font-size: 1.1rem;
        color: #2c3e50;
        margin-bottom: 1rem;
      }

      /* Answer sections */
      .answer {
        background: linear-gradient(145deg, #f8f9fa, #ffffff);
        border-radius: 10px;
        padding: 1.2rem;
        margin-top: 1rem;
        border-left: 4px solid #0d6efd;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      /* Mobile optimizations */
      @media (max-width: 768px) {
        .main-title {
          font-size: 2rem;
        }

        .interview-type-toggle .btn {
          padding: 10px 16px;
          font-size: 0.9rem;
        }

        .instruction-card {
          margin: 1rem;
          padding: 1rem;
        }

        .btn-add {
          width: 100%;
          margin: 0.5rem 0;
        }

        .card {
          margin: 0.5rem 0;
        }
      }

      /* Loading animation */
      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3;
        border-top: 5px solid #0d6efd;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 2rem auto;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      .action-buttons {
        margin: 2rem 0;
      }

      .upload-container {
        position: relative;
      }

      .btn-success {
        background-color: #28a745;
        border-color: #28a745;
        transition: all 0.3s ease;
      }

      .btn-success:hover {
        background-color: #218838;
        border-color: #1e7e34;
        transform: translateY(-2px);
      }

      @media (max-width: 768px) {
        .action-buttons {
          flex-direction: column;
          gap: 1rem;
        }

        .action-buttons .btn {
          width: 100%;
        }
      }
      /* Empty state */
      .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        background: #f8f9fa;
        border-radius: 15px;
        margin: 2rem 0;
      }

      .empty-state i {
        font-size: 3rem;
        color: #dee2e6;
        margin-bottom: 1rem;
      }

      .empty-state h3 {
        color: #6c757d;
        margin-bottom: 1rem;
      }

      .empty-state p {
        color: #adb5bd;
        max-width: 400px;
        margin: 0 auto;
      }
    </style>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=d1DTDr2A"></script>
    <script src="uploadData.js"></script>
  </head>
  <body>
    <!-- Header section -->
    <div class="text-center mb-4">
      <h1 class="main-title">WAT Interview Questions</h1>

      <!-- Instruction card -->
      <div class="instruction-card">
        <div class="instruction-icon">
          <i class="fas fa-info-circle"></i>
        </div>
        <p class="instruction-text">
          <span class="device-specific laptop">
            <i class="fas fa-laptop me-2"></i>
            Laptop: “Æ–≥ –¥—ç—ç—Ä 2 —É–¥–∞–∞ —Ç–æ–≤—à–∏–∂ –¥—É—É–¥–ª–∞–≥–∞ —Å–æ–Ω—Å–æ—Ö
          </span>
          <span class="device-specific mobile">
            <i class="fas fa-mobile-alt me-2"></i>
            Mobile: “Æ–≥–∏–π–≥ —Å–æ–Ω–≥–æ–æ–¥ 2 —É–¥–∞–∞ —Ç–æ–≤—à–∏–∂ –¥—É—É–¥–ª–∞–≥–∞ —Å–æ–Ω—Å–æ—Ö
          </span>
        </p>
      </div>

      <!-- Action buttons -->
      <div class="action-buttons d-flex gap-2 justify-content-center">
        <button
          class="btn btn-primary btn-add"
          data-bs-toggle="modal"
          data-bs-target="#addQuestionModal"
        >
          <i class="fas fa-plus me-2"></i>Add Question
        </button>

        <!-- CSV Upload button and input -->
        <div class="upload-container">
          <button
            class="btn btn-success"
            onclick="document.getElementById('csvFile').click()"
          >
            <i class="fas fa-file-upload me-2"></i>Upload CSV
          </button>
          <input
            type="file"
            id="csvFile"
            accept=".csv"
            style="display: none"
            onchange="handleFileSelect(event)"
          />
        </div>
      </div>

      <!-- Add this small text below the buttons -->
      <div class="text-center mt-2">
        <small class="text-muted"
          >CSV format: "Question","English Answer","Mongolian Answer"</small
        >
      </div>
    </div>

    <!-- Language toggle buttons -->
    <div class="language-toggle text-center mb-4">
      <div class="btn-group">
        <button
          class="btn btn-outline-primary"
          onclick="toggleLanguage('en-answer')"
        >
          English
        </button>
        <button
          class="btn btn-outline-primary"
          onclick="toggleLanguage('mn-answer')"
        >
          –ú–æ–Ω–≥–æ–ª
        </button>
        <button
          class="btn btn-outline-primary px-4"
          onclick="toggleLanguage('both')"
        >
          Both
        </button>
        <button class="btn btn-secondary px-5" onclick="hideAllAnswers()">
          Hide Answers
        </button>
      </div>
    </div>

    <div class="container-fluid">
      <div id="qa-container" class="row">
        <!-- Questions will be loaded here -->
      </div>
    </div>

    <!-- Add Question Modal -->
    <div class="modal fade" id="addQuestionModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add New Question</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="addQuestionForm">
              <div class="mb-3">
                <label class="form-label">Question:</label>
                <input
                  type="text"
                  class="form-control"
                  id="newQuestionInput"
                  required
                />
              </div>
              <div class="mb-3">
                <label class="form-label">English Answer:</label>
                <textarea
                  class="form-control"
                  id="newEnInput"
                  rows="3"
                  required
                ></textarea>
              </div>
              <div class="mb-3">
                <label class="form-label">Mongolian Answer:</label>
                <textarea
                  class="form-control"
                  id="newMnInput"
                  rows="3"
                  required
                ></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              onclick="addNewQuestion()"
            >
              Add Question
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Question Modal -->
    <div class="modal fade" id="editQuestionModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit Question</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="editQuestionForm">
              <div class="mb-3">
                <label class="form-label">Question:</label>
                <input
                  type="text"
                  class="form-control"
                  id="editQuestionInput"
                  required
                />
              </div>
              <div class="mb-3">
                <label class="form-label">English Answer:</label>
                <textarea
                  class="form-control"
                  id="editEnInput"
                  rows="3"
                  required
                ></textarea>
              </div>
              <div class="mb-3">
                <label class="form-label">Mongolian Answer:</label>
                <textarea
                  class="form-control"
                  id="editMnInput"
                  rows="3"
                  required
                ></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              onclick="saveEditedQuestion()"
            >
              Save Changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add data.js script -->
    <!-- <script src="data.js"></script> -->

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
      function boldBracketedText(text) {
        return text.replace(
          /\[([^\]]+)\]/g,
          "<strong>[</strong><strong>$1</strong><strong>]</strong>"
        );
      }

      function hideAllAnswers() {
        const answers = document.getElementsByClassName("answer");
        for (let answer of answers) {
          answer.style.display = "none";
        }

        // –ó”©–≤—Ö”©–Ω Answer —Ç–æ–≤—á—É—É–¥—ã–Ω —Ç–µ–∫—Å—Ç–∏–π–≥ ”©”©—Ä—á–ª”©—Ö
        const toggleBtns = document.querySelectorAll(
          ".card .btn-outline-primary, .card .btn-primary"
        );
        toggleBtns.forEach((btn) => {
          if (btn.textContent.includes("Answer")) {
            btn.textContent = "Show Answer";
            btn.classList.replace("btn-primary", "btn-outline-primary");
          }
        });

        // Language toggle —Ç–æ–≤—á—É—É–¥—ã–≥ outline –±–æ–ª–≥–æ—Ö
        const langButtons = document.querySelectorAll(".language-toggle .btn");
        langButtons.forEach((btn) => {
          btn.classList.add("btn-outline-primary");
          btn.classList.remove("btn-primary");
        });
      }

      function toggleAnswer(button) {
        const card = button.closest(".card-body");
        const answers = card.getElementsByClassName("answer");
        const isHidden =
          answers[0].style.display === "none" || !answers[0].style.display;

        for (let answer of answers) {
          answer.style.display = isHidden ? "block" : "none";
        }

        // –ó”©–≤—Ö”©–Ω Show/Hide Answer —Ç–æ–≤—á–Ω—ã —Ç–µ–∫—Å—Ç–∏–≥ ”©”©—Ä—á–ª”©—Ö
        if (isHidden) {
          button.textContent = "Hide Answer";
          button.classList.replace("btn-outline-primary", "btn-primary");
        } else {
          button.textContent = "Show Answer";
          button.classList.replace("btn-primary", "btn-outline-primary");
        }
      }

      function toggleLanguage(lang) {
        const buttons = document.querySelectorAll(".language-toggle .btn");
        buttons.forEach((btn) => {
          if (
            btn.textContent.toLowerCase().includes(lang) ||
            (lang === "both" && btn.textContent === "Both")
          ) {
            btn.classList.add("btn-primary");
            btn.classList.remove("btn-outline-primary");
          } else {
            btn.classList.add("btn-outline-primary");
            btn.classList.remove("btn-primary");
          }
        });

        const answers = document.getElementsByClassName("answer");
        for (let answer of answers) {
          if (lang === "both" || answer.classList.contains(lang)) {
            answer.style.display = "block";
          } else {
            answer.style.display = "none";
          }
        }

        // –ê—Å—É—É–ª—Ç –±“Ø—Ä–∏–π–Ω Show/Hide —Ç–æ–≤—á–Ω—ã —Ç–µ–∫—Å—Ç–∏–≥ —à–∏–Ω—ç—á—ç—Ö
        const toggleBtns = document.querySelectorAll(
          ".card .btn-outline-primary, .card .btn-primary"
        );
        toggleBtns.forEach((btn) => {
          if (btn.textContent.includes("Answer")) {
            // –ó”©–≤—Ö”©–Ω Answer —Ç–æ–≤—á—É—É–¥—ã–≥ —à–∏–Ω—ç—á–ª—ç—Ö
            if (lang === "both" || answers[0].style.display === "block") {
              btn.textContent = "Hide Answer";
              btn.classList.replace("btn-outline-primary", "btn-primary");
            } else {
              btn.textContent = "Show Answer";
              btn.classList.replace("btn-primary", "btn-outline-primary");
            }
          }
        });
      }

      // DOM –∞—á–∞–∞–ª–∞–≥–¥—Å–∞–Ω—ã –¥–∞—Ä–∞ createCards –¥—É—É–¥–∞—Ö
      document.addEventListener("DOMContentLoaded", function () {
        createCards();
      });

      // Function to speak selected text
      function speakSelectedText(text) {
        if (!window.responsiveVoice) {
          alert("Text to speech is not available!");
          return;
        }

        // Clean the text
        text = text.trim().replace(/[\n\r]+/g, " ");

        // Speak the text
        responsiveVoice.speak(text, "US English Male", {
          pitch: 1,
          rate: 0.9,
          volume: 1,
        });
      }

      // Function to add double-click listeners
      function addDoubleClickListeners() {
        document.querySelectorAll(".selectable").forEach((element) => {
          element.addEventListener("dblclick", function (e) {
            // Get the clicked text
            let selection = window.getSelection();
            let selectedText = selection.toString();

            // If no text is selected, get the clicked word
            if (!selectedText) {
              let text = e.target.innerText;
              let range = document.createRange();
              range.selectNodeContents(e.target);
              selection.removeAllRanges();
              selection.addRange(range);
              selectedText = selection.toString();
            }

            if (selectedText) {
              // Stop any current speech
              responsiveVoice.cancel();

              // Speak the selected text
              speakSelectedText(selectedText);
            }
          });
        });
      }

      // Add this to ensure listeners are added after dynamic content loads
      document.addEventListener("DOMContentLoaded", () => {
        addDoubleClickListeners();
      });
    </script>

    <!-- Firebase SDK - —Ö–∞–º–≥–∏–π–Ω —ç—Ö—ç–Ω–¥ –±–∞–π—Ä–ª—É—É–ª–∞—Ö -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- Firebase —Ç–æ—Ö–∏—Ä–≥–æ–æ -->
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyD5NiYHI_2xPQvaOna_mwqCfmdDXFKOBhU",
        authDomain: "watinterview-34f9c.firebaseapp.com",
        projectId: "watinterview-34f9c",
        storageBucket: "watinterview-34f9c.firebasestorage.app",
        messagingSenderId: "255575163715",
        appId: "1:255575163715:web:17b0fdc071b6e1baf2e5f6",
        measurementId: "G-YNX8QW25DH",
      };

      // Firebase initialize
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
    </script>

    <!-- Questions data -->
    <script type="module" src="./questions.js"></script>

    <!-- Upload script -->
    <script type="module" src="./uploadData.js"></script>

    <!-- Main script -->
    <script type="module">
      import {
        initializeDatabase,
        createCards,
        editQuestion,
        deleteQuestion,
        addNewQuestion,
      } from "./uploadData.js";

      // Make functions available globally
      window.editQuestion = editQuestion;
      window.deleteQuestion = deleteQuestion;
      window.addNewQuestion = addNewQuestion;

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", async () => {
        try {
          await createCards();
        } catch (error) {
          console.error("Initialization error:", error);
        }
      });
    </script>

    <!-- Add this before closing body tag -->
    <script>
      // Make speakText function globally available
      window.speakText = function (button, type) {
        // Check if ResponsiveVoice is loaded
        if (!window.responsiveVoice) {
          console.error("ResponsiveVoice is not loaded!");
          return;
        }

        // Check if button is already speaking
        if (button.classList.contains("speaking")) {
          // If speaking, stop it
          responsiveVoice.cancel();
          button.classList.remove("speaking");
          return;
        }

        // Remove speaking class from all other buttons
        document.querySelectorAll(".speaking").forEach((btn) => {
          if (btn !== button) {
            btn.classList.remove("speaking");
          }
        });

        // Cancel any ongoing speech
        responsiveVoice.cancel();

        // Add speaking animation
        button.classList.add("speaking");

        let textToSpeak = "";
        const card = button.closest(".card-body");

        try {
          if (type === "question") {
            textToSpeak = card
              .querySelector(".question")
              .textContent.replace(/\d+\.\s/, "")
              .replace(/üîí/g, "")
              .trim();
          } else if (type === "answer") {
            const answerText = button.parentElement.textContent.trim();
            textToSpeak = answerText.replace(/Listen/g, "").trim();
          }

          // Clean the text
          textToSpeak = textToSpeak.replace(/[\n\r]+/g, " ").trim();

          console.log("Speaking:", textToSpeak); // Debug log

          // Use US Male voice
          responsiveVoice.speak(textToSpeak, "US English Male", {
            pitch: 1,
            rate: 0.9,
            volume: 1,
            onend: () => {
              button.classList.remove("speaking");
            },
            onerror: (e) => {
              console.error("Speech error:", e);
              button.classList.remove("speaking");
            },
          });
        } catch (error) {
          console.error("Speech error:", error);
          button.classList.remove("speaking");
        }
      };

      // Double-click handler-—Ç –º”©–Ω ”©”©—Ä—á–ª”©–ª—Ç –æ—Ä—É—É–ª–∞—Ö
      function handleTextSelection(e) {
        // Only proceed if the clicked element is inside a question and doesn't have non-selectable class
        if (
          !e.target.closest(".question") ||
          e.target.closest(".non-selectable")
        ) {
          return;
        }

        if (!window.responsiveVoice) {
          console.error("ResponsiveVoice is not loaded!");
          return;
        }

        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

        try {
          let selectedText = "";

          if (isMobile) {
            selectedText = e.target.textContent.trim();
          } else {
            selectedText = window.getSelection().toString().trim();
          }

          if (selectedText) {
            responsiveVoice.cancel();

            const success = responsiveVoice.speak(
              selectedText,
              "US English Male",
              {
                pitch: 1,
                rate: 0.9,
                volume: 1,
                onerror: (e) => console.error("Speech error:", e),
              }
            );

            if (!success && isMobile) {
              alert("Tap OK to enable voice feature");
              responsiveVoice.speak(selectedText, "US English Male", {
                pitch: 1,
                rate: 0.9,
                volume: 1,
              });
            }
          }
        } catch (error) {
          console.error("Speech error:", error);
        }
      }

      // Test ResponsiveVoice when page loads
      document.addEventListener("DOMContentLoaded", () => {
        if (window.responsiveVoice) {
          console.log("ResponsiveVoice is ready");
        } else {
          console.error("ResponsiveVoice is not available");
        }
      });
    </script>

    <script>
      // Global variables
      let firestoreQuestions = [];

      // Create cards function
      window.createCards = function () {
        try {
          const container = document.getElementById("qa-container");
          container.innerHTML = "";

          firestoreQuestions.forEach((data, index) => {
            const card = document.createElement("div");
            card.className = "col-12";

            const formattedEnAnswer = boldBracketedText(data.en);
            const formattedMnAnswer = boldBracketedText(data.mn);

            const protectedIcon = data.isProtected
              ? '<i class="fas fa-lock text-warning ms-2" title="Protected Question"></i>'
              : "";

            card.innerHTML = `
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-start">
                    <h5 class="card-title question selectable">
                      <div class="question-text">
                        ${index + 1}. ${data.question} ${protectedIcon}
                      </div>
                      <button class="btn btn-speak btn-outline-primary" onclick="speakText(this, 'question')" title="Listen">
                        <i class="fas fa-volume-up"></i>
                      </button>
                    </h5>
                    <div class="btn-group">
                      <button class="btn btn-outline-secondary btn-sm" onclick="editQuestion('${
                        data.id
                      }')" title="Edit">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="btn btn-outline-danger btn-sm" onclick="deleteQuestion('${
                        data.id
                      }')" title="Delete">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <button class="btn btn-outline-primary w-100" onclick="toggleAnswer(this)">
                    Show Answer
                  </button>
                  <div class="answer en-answer" style="display: none;" data-lang="en">
                    ${formattedEnAnswer}
                  </div>
                  <div class="answer mn-answer" style="display: none;" data-lang="mn">
                    ${formattedMnAnswer}
                  </div>
                </div>
              </div>
            `;

            container.appendChild(card);
          });

          // Add double-click listeners only to questions
          document
            .querySelectorAll(".question.selectable")
            .forEach((element) => {
              element.addEventListener("dblclick", handleTextSelection);
            });
        } catch (error) {
          console.error("Error creating cards:", error);
          throw error;
        }
      };

      // Helper function for text formatting
      function boldBracketedText(text) {
        if (!text) return "";
        return text.replace(/\[([^\]]+)\]/g, "<strong>$1</strong>");
      }

      // Initialize when document is ready
      document.addEventListener("DOMContentLoaded", () => {
        if (window.responsiveVoice) {
          console.log("ResponsiveVoice is ready");
          // Note: createCards will be called after data is loaded from Firestore
        } else {
          console.error("ResponsiveVoice is not available");
        }
      });
    </script>

    <!-- Main content container-–∏–π–Ω –¥–∞—Ä–∞–∞ -->
    <footer class="footer mt-5">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <p class="mb-2">
              <a
                href="https://www.facebook.com/profile.php?id=100064952799492"
                target="_blank"
                class="social-link non-selectable"
              >
                <i class="fab fa-facebook non-selectable"></i>
                <span class="non-selectable">Lhagva Dorjj</span>
              </a>
            </p>
            <p class="mb-2">
              <a
                href="mailto:lhagvabatulzii@gmail.com"
                class="social-link non-selectable"
              >
                <i class="fas fa-envelope non-selectable"></i>
                <span class="non-selectable">lhagvabatulzii@gmail.com</span>
              </a>
            </p>
            <p class="copyright non-selectable">
              ¬© 2024 WAT Interview. All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Add this right after your Firebase scripts and before the closing </body> tag -->
    <script>
      // Make handleFileSelect available globally
      async function handleFileSelect(event) {
        const file = event.target.files[0];
        if (!file) return;

        const fileType = file.name.split(".").pop().toLowerCase();
        if (fileType !== "csv") {
          alert("Please upload a CSV file");
          return;
        }

        try {
          const reader = new FileReader();

          reader.onload = async (event) => {
            const csvData = event.target.result;
            const rows = csvData.split(/\r?\n/);

            // Skip header row and process each data row
            for (let i = 1; i < rows.length; i++) {
              const row = rows[i].trim();
              if (!row) continue;

              // Split the row by commas, preserving quoted content
              const matches = row.match(
                /(?:^|,)("(?:[^"]*(?:""[^"]*)*)"|\d*\.?\d+|[^,]*)/g
              );
              if (!matches) continue;

              const columns = matches.map((match) => {
                // Remove leading comma and quotes, then trim
                let value = match.replace(/^,/, "");
                if (value.startsWith('"') && value.endsWith('"')) {
                  value = value.slice(1, -1).replace(/""/g, '"');
                }
                return value.trim();
              });

              if (columns.length >= 3) {
                const [question, enAnswer, mnAnswer] = columns;

                if (question && enAnswer && mnAnswer) {
                  await db.collection("questions").add({
                    question: question,
                    en: enAnswer,
                    mn: mnAnswer,
                    isProtected: false,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                  });
                }
              }
            }

            alert("CSV data uploaded successfully!");
            location.reload(); // Refresh the page to show new questions
          };

          reader.readAsText(file, "UTF-8");
        } catch (error) {
          console.error("Error uploading CSV:", error);
          alert("Error uploading CSV: " + error.message);
        }
      }
    </script>
  </body>
</html>
